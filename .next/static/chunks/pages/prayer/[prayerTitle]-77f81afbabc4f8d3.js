(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[49],{4632:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(7876),s=n(4232);let l=function(e){let{shareTitle:t,shareDescription:n}=e,[l,c]=s.useState("");s.useEffect(()=>{c(window.location.href),window.Kakao&&!window.Kakao.isInitialized()&&window.Kakao.init("YOUR_KAKAO_JAVASCRIPT_KEY")},[]);let a=t||"가톨릭 기도문 암송 도우미",o=n||"가톨릭 기도문 암송을 도와주는 웹 애플리케이션입니다. 다양한 기도문을 선택하고 음성으로 들으며 암송 연습을 할 수 있습니다.";return(0,i.jsxs)("div",{className:"share-buttons-container",children:[(0,i.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(l).then(()=>{alert("URL이 복사되었습니다!")}).catch(e=>{console.error("URL 복사 실패:",e),alert("URL 복사에 실패했습니다.")})},className:"share-button copy-button",children:"URL 복사"}),(0,i.jsx)("button",{onClick:()=>{if(!window.Kakao)return void alert("카카오 SDK가 로드되지 않았습니다. 잠시 후 다시 시도해주세요.");let e=window.Kakao;if(!e.isInitialized()){console.error("Kakao SDK is not initialized. Please check your JavaScript Key."),alert("카카오 SDK 초기화에 실패했습니다. 개발자 키를 확인해주세요.");return}try{e.Share.sendDefault({objectType:"feed",content:{title:a,description:o,imageUrl:"https://praywithbeda.com/og-thumbnail.png",link:{mobileWebUrl:l,webUrl:l}},buttons:[{title:"웹으로 보기",link:{mobileWebUrl:l,webUrl:l}}]})}catch(e){console.error("카카오톡 공유 실패:",e),alert("카카오톡 공유에 실패했습니다. 잠시 후 다시 시도해주세요.")}},className:"share-button kakao-button",children:"카카오톡 공유"})]})}},4816:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/prayer/[prayerTitle]",function(){return n(9443)}])},7328:(e,t,n)=>{e.exports=n(9269)},9443:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var i=n(7876),s=n(4232),l=n(9099),c=n(7328),a=n.n(c),o=n(3464),r=n(4632),d=n(1884);function h(){let e=(0,l.useRouter)(),{prayerTitle:t}=e.query,{theme:n}=(0,d.D)(),[c,h]=(0,s.useState)([]),[u,p]=(0,s.useState)(null),[v,w]=(0,s.useState)(!1),[f,m]=(0,s.useState)(null),[b,g]=(0,s.useState)([]),[y,S]=(0,s.useState)(-1),[k,x]=(0,s.useState)([]),j=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(t){var n;let i=decodeURIComponent(t),s=o.v.find(e=>e.title===i);s?(m(s),g(Array(s.content.length).fill(!1))):e.push("/"),null==(n=window.speechSynthesis)||n.cancel(),w(!1),S(-1)}},[t,e]),(0,s.useEffect)(()=>{let e=localStorage.getItem("favorites");e&&x(JSON.parse(e))},[]),(0,s.useEffect)(()=>{{let e=()=>{let e=window.speechSynthesis.getVoices(),t=e.filter(e=>e.lang.startsWith("ko"));if(h(t.length>0?t:e),!u){let n=t.find(e=>"Google 한국의"===e.name),i=t.find(e=>"Yuna"===e.name);n?p(n.voiceURI):i?p(i.voiceURI):t.length>0?p(t[0].voiceURI):e.length>0&&p(e[0].voiceURI)}};return e(),void 0!==window.speechSynthesis.onvoiceschanged&&(window.speechSynthesis.onvoiceschanged=e),()=>{var e;null==(e=window.speechSynthesis)||e.cancel(),w(!1)}}},[u]);let N=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;window.speechSynthesis.cancel(),w(!1),S(-1);let n=new SpeechSynthesisUtterance(e),i=c.find(e=>e.voiceURI===u);i?n.voice=i:n.lang="ko-KR",n.rate=.9,n.pitch=.9,n.onstart=()=>{S(t),w(!0)},n.onend=()=>{S(-1),w(!1)},n.onerror=()=>{S(-1),w(!1)},window.speechSynthesis.speak(n),j.current=n};return f?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a(),{children:[(0,i.jsxs)("title",{children:[f.title," - 가톨릭 기도문 암송 도우미"]}),(0,i.jsx)("meta",{name:"description",content:"".concat(f.title," 기도문 암송을 도와주는 도우미 앱입니다.")}),(0,i.jsx)("meta",{property:"og:title",content:"".concat(f.title," - 가톨릭 기도문 암송 도우미")}),(0,i.jsx)("meta",{property:"og:description",content:"".concat(f.title," 기도문 암송을 도와주는 도우미 앱입니다.")})]}),(0,i.jsxs)("div",{className:"prayer-view",children:[(0,i.jsxs)("div",{className:"prayer-title-header",children:[(0,i.jsx)("button",{className:"back-button",onClick:()=>{e.back()},children:"←"}),(0,i.jsx)("h2",{children:f.title}),(0,i.jsx)("span",{className:"favorite-icon-detail ".concat(k.includes(f.title)?"favorited":""),onClick:()=>{var e;return e=f.title,void x(t=>{let n=t.includes(e)?t.filter(t=>t!==e):[...t,e];return localStorage.setItem("favorites",JSON.stringify(n)),n})},children:"★"})]}),(0,i.jsx)("div",{className:"prayer-content",children:f.content.map((e,t)=>(0,i.jsxs)("div",{className:"prayer-line-container",children:[(0,i.jsx)("p",{className:"prayer-line ".concat(b[t]?"hidden":""," ").concat(y===t?"highlighted":""),onClick:()=>(e=>{let t=[...b];t[e]=!t[e],g(t)})(t),children:b[t]?"█".repeat(e.length):e}),(0,i.jsx)("button",{className:"tts-button",onClick:()=>N(e,t),children:"\uD83D\uDD0A"})]},t))}),(0,i.jsxs)("div",{className:"voice-selector-container",children:[(0,i.jsx)("label",{htmlFor:"voice-select",children:"목소리 선택: "}),(0,i.jsx)("select",{id:"voice-select",value:u||"",onChange:e=>p(e.target.value),children:c.map(e=>(0,i.jsx)("option",{value:e.voiceURI,children:"".concat(e.name," (").concat(e.lang,")")},e.voiceURI))})]}),(0,i.jsxs)("div",{className:"control-buttons",children:[(0,i.jsx)("button",{className:"reveal-button",onClick:()=>{let e=b.some(e=>!0===e);g(Array(f.content.length).fill(!e))},children:b.some(e=>!0===e)?"전체 보기":"전체 가리기"}),(0,i.jsx)("button",{className:"tts-control-button",onClick:()=>{if(v)window.speechSynthesis.cancel(),w(!1),S(-1);else{let e=0,t=()=>{if(e<f.content.length){let n=new SpeechSynthesisUtterance(f.content[e]),i=c.find(e=>e.voiceURI===u);i?n.voice=i:n.lang="ko-KR",n.rate=.9,n.pitch=.9,n.onstart=()=>{S(e),w(!0)},n.onend=()=>{e++,t()},n.onerror=()=>{S(-1),w(!1)},window.speechSynthesis.speak(n),j.current=n}else S(-1),w(!1)};window.speechSynthesis.cancel(),t()}},children:v?"멈춤":"전체 듣기"})]}),(0,i.jsx)(r.A,{prayerTitle:f.title})]})]}):(0,i.jsx)("div",{className:"App",children:(0,i.jsx)("div",{className:"loading",children:"로딩 중..."})})}}},e=>{e.O(0,[636,593,792],()=>e(e.s=4816)),_N_E=e.O()}]);